<?xml version="1.0" encoding="UTF-8"?> <PolicyDocument xmlns:db2="http://www.ibm.com/xmlns/prod/db2/autonomic/policy" xmlns="http://www.ibm.com/xmlns/prod/db2/autonomic/policylang" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.ibm.com/xmlns/prod/db2/autonomic/policy ../schema/DB2TableMaintenanceMED.xsd" medScope="DefaultMaintWindow"> <PreconditionSection name="CommonMaintWindowPolicySection"> <Precondition policyElementId="online_mw"> <db2:MaintenanceWindowCondition timeZone="local" windowType="online"> <MonthOfYearMask>111111111111</MonthOfYearMask> <DayOfMonthMask>11111111111111111111111111111111111111111111111111111111111111</DayOfMonthMask> <TimeOfDayMask>T000000/T235959</TimeOfDayMask> </db2:MaintenanceWindowCondition> </Precondition> </PreconditionSection> <PolicySection name="f"/> </PolicyDocument> <?xml version="1.0" encoding="UTF-8"?> <PolicyDocument xmlns="http://www.ibm.com/xmlns/prod/db2/autonomic/policylang" xmlns:db2="http://www.ibm.com/xmlns/prod/db2/autonomic/policy" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" medScope="DB2DatabaseRecoveryMED.xsd" xsi:schemaLocation="http://www.ibm.com/xmlns/prod/db2/autonomic/policy ../schema/DB2DatabaseRecoveryMED.xsd" > <PolicySection name="DefaultDBBackupDecision"> <AC_Policy policyElementId="DefaultBackup" policyEnabled="true" > <Scope>DB2_Database_Recovery</Scope> <Precondition> <Or> <LessThan> <db2:DBBackupSensors>Number_Full_DB_Backups</db2:DBBackupSensors> <Constant>1</Constant> </LessThan> <GreaterThanOrEqual> <db2:DBBackupSensors>Elapsed_Time_Since_Last_DB_Backup</db2:DBBackupSensors> <Constant>168</Constant> </GreaterThanOrEqual> <GreaterThanOrEqual> <db2:DBBackupSensors>Log_Consumed_Since_Last_DB_Backup</db2:DBBackupSensors> <Constant>6400</Constant> </GreaterThanOrEqual> </Or> </Precondition> <Decision type="action"> <db2:DBBackup> <db2:DiskBackupTarget> </db2:DiskBackupTarget> </db2:DBBackup> </Decision> <BusinessValue>1</BusinessValue> <Description> Default policy for automated backups. Need to ensure there's a backup available if any of the following conditions are true: no full backup exists time since last backup is greater than a week log consumed is more than 6400 * 4KB bytes AND it's currently within the offline maint window of 9pm-8am every day. Business Value of 1 means highest priority. </Description> </AC_Policy> </PolicySection> </PolicyDocument> <?xml version="1.0" encoding="UTF-8"?> <PolicyDocument xmlns:db2="http://www.ibm.com/xmlns/prod/db2/autonomic/policy" xmlns="http://www.ibm.com/xmlns/prod/db2/autonomic/policylang" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.ibm.com/xmlns/prod/db2/autonomic/policy ../schema/DB2TableMaintenanceMED.xsd" medScope="k"> <PolicySection name="TableReorgDecision"> <AC_Policy policyElementId="FinanceTablesReorg" policyEnabled="true"> <Scope>DB2_Database_Table_Maintenance</Scope> <Precondition> <And> <Equals> <db2:TableReorgSensors>ReorgChk_Flag</db2:TableReorgSensors> <Constant>true</Constant> </Equals> <LessThan> <db2:TableReorgSensors>ReorgSize_KB</db2:TableReorgSensors> <Constant>0</Constant> </LessThan> <Equals> <db2:Sensors>Tables</db2:Sensors> <Constant>TABSCHEMA NOT LIKE 'SYS%'</Constant> </Equals> </And> </Precondition> <Decision type="action"> <db2:TableReorg useTempTbsp="false" mode="read" dictionaryOption="keep"></db2:TableReorg> </Decision> <BusinessValue>3</BusinessValue> <Description> Default policy for auto table reorg, in which all user tables are to be maintained automatically. </Description> </AC_Policy> </PolicySection> </PolicyDocument> <?xml version="1.0" encoding="UTF-8"?> <PolicyDocument xmlns:db2="http://www.ibm.com/xmlns/prod/db2/autonomic/policy" xmlns="http://www.ibm.com/xmlns/prod/db2/autonomic/policylang" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.ibm.com/xmlns/prod/db2/autonomic/policy ../schema/DB2TableMaintenanceMED.xsd" medScope="f"> <PolicySection name="TableRunstatsDecision"> <AC_Policy policyElementId="HRTablesRunstats" policyEnabled="true"> <Scope>DB2_Database_Table_Maintenance</Scope> <Precondition> <Equals> <db2:Sensors>Tables</db2:Sensors> <Constant></Constant> </Equals> </Precondition> <Decision type="goal"> <GoalConstraint> <Equals> <db2:TableRunstatsGoalConstraintSensors>TableStatisticsCurrencyFlag</db2:TableRunstatsGoalConstraintSensors> <Constant>true</Constant> </Equals> </GoalConstraint> </Decision> <BusinessValue>2</BusinessValue> <Description> Default policy for auto table runstats, in which all user tables are to be maintained automatically. </Description> </AC_Policy> </PolicySection> </PolicyDocument> <?xml version="1.0" encoding="UTF-8"?> <PolicyDocument xmlns="http://www.ibm.com/xmlns/prod/db2/autonomic/policylang" xmlns:db2="http://www.ibm.com/xmlns/prod/db2/autonomic/policy" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" medScope="DB2TableMaintenanceMED.xsd" xsi:schemaLocation="http://www.ibm.com/xmlns/prod/db2/autonomic/policy ../schema/DB2TableMaintenanceMED.xsd"> <PolicySection name="DefaultStatsProfile"> <AC_Policy policyElementId="DefaultStatisticsProfile" policyEnabled="true"> <Scope>DB2_StatisticsProfile</Scope> <Precondition> <Equals> <db2:Sensors>Tables</db2:Sensors> <Constant>TABSCHEMA NOT LIKE 'SYS%'</Constant> </Equals> </Precondition> <Decision type="action"> <db2:StatsProfile> <db2:Monitor maxFiles="20" maxFileSize="128"/> <db2:FeedbackWarehouse> <db2:Population maxFWSize="20"/> <db2:StatsProfiling maxColGroupStats="50" maxProfiles="20" maxFrequentValues="20" maxSingleTableStats="50" profileGeneration="All"/> </db2:FeedbackWarehouse> </db2:StatsProfile> </Decision> <BusinessValue>10</BusinessValue> <Description> Statistics Profiling parameters used by the Learning Optimizer (LEO) to automatically generate the appropriate profile to be strored in the system catalogs and used by auto table runstats. </Description> </AC_Policy> </PolicySection> </PolicyDocument> 